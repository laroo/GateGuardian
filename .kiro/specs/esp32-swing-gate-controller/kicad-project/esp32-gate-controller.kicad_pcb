(kicad_pcb (version 20171130) (host pcbnew 5.1.10)

  (general
    (thickness 1.6)
    (drawings 4)
    (tracks 0)
    (zones 0)
    (modules 20)
    (nets 25)
  )

  (page A4)
  (layers
    (0 F.Cu signal)
    (1 In1.Cu power)
    (2 In2.Cu power)
    (31 B.Cu signal)
    (32 B.Adhes user)
    (33 F.Adhes user)
    (34 B.Paste user)
    (35 F.Paste user)
    (36 B.SilkS user)
    (37 F.SilkS user)
    (38 B.Mask user)
    (39 F.Mask user)
    (40 Dwgs.User user)
    (41 Cmts.User user)
    (42 Eco1.User user)
    (43 Eco2.User user)
    (44 Edge.Cuts user)
    (45 Margin user)
    (46 B.CrtYd user)
    (47 F.CrtYd user)
    (48 B.Fab user)
    (49 F.Fab user)
  )

  (setup
    (last_trace_width 0.25)
    (trace_clearance 0.2)
    (zone_clearance 0.508)
    (zone_45_only no)
    (trace_min 0.2)
    (via_size 0.8)
    (via_drill 0.4)
    (via_min_size 0.4)
    (via_min_drill 0.3)
    (uvia_size 0.3)
    (uvia_drill 0.1)
    (uvias_allowed no)
    (uvia_min_size 0.2)
    (uvia_min_drill 0.1)
    (edge_width 0.05)
    (segment_width 0.2)
    (pcb_text_width 0.3)
    (pcb_text_size 1.5 1.5)
    (mod_edge_width 0.12)
    (mod_text_size 1 1)
    (mod_text_width 0.15)
    (pad_size 1.524 1.524)
    (pad_drill 0.762)
    (pad_to_mask_clearance 0.051)
    (solder_mask_min_width 0.25)
    (aux_axis_origin 0 0)
    (visible_elements FFFFFF7F)
    (pcbplotparams
      (layerselection 0x010fc_ffffffff)
      (usegerberextensions false)
      (usegerberattributes true)
      (usegerberadvancedattributes true)
      (creategerberjobfile true)
      (excludeedgelayer true)
      (linewidth 0.100000)
      (plotframeref false)
      (viasonmask false)
      (mode 1)
      (useauxorigin false)
      (hpglpennumber 1)
      (hpglpenspeed 20)
      (hpglpendiameter 15.000000)
      (psnegative false)
      (psa4output false)
      (plotreference true)
      (plotvalue true)
      (plotinvisibletext false)
      (padsonsilk false)
      (subtractmaskfromsilk false)
      (outputformat 1)
      (mirror false)
      (drillshape 1)
      (scaleselection 1)
      (outputdirectory "")
    )
  )

  (net 0 "")
  (net 1 "+5V")
  (net 2 "GND")
  (net 3 "+3V3")
  (net 4 "ESP32_D2")
  (net 5 "ESP32_D0")
  (net 6 "ESP32_D5")
  (net 7 "ESP32_D18")
  (net 8 "ESP32_D19")
  (net 9 "ESP32_D23")
  (net 10 "ESP32_D12")
  (net 11 "ESP32_D14")
  (net 12 "ESP32_D13")
  (net 13 "ESP32_D22")
  (net 14 "SENSOR_24V")
  (net 15 "RELAY1_NO")
  (net 16 "RELAY1_COM")
  (net 17 "RELAY2_NO")
  (net 18 "RELAY2_COM")
  (net 19 "ETH_TX+")
  (net 20 "ETH_TX-")
  (net 21 "ETH_RX+")
  (net 22 "ETH_RX-")
  (net 23 "BUTTON_IN")
  (net 24 "SENSOR_IN")

  (net_class Default "This is the default net class."
    (clearance 0.2)
    (trace_width 0.25)
    (via_dia 0.8)
    (via_drill 0.4)
    (uvia_dia 0.3)
    (uvia_drill 0.1)
    (add_net "+3V3")
    (add_net "+5V")
    (add_net "BUTTON_IN")
    (add_net "ESP32_D0")
    (add_net "ESP32_D12")
    (add_net "ESP32_D13")
    (add_net "ESP32_D14")
    (add_net "ESP32_D18")
    (add_net "ESP32_D19")
    (add_net "ESP32_D2")
    (add_net "ESP32_D22")
    (add_net "ESP32_D23")
    (add_net "ESP32_D5")
    (add_net "ETH_RX+")
    (add_net "ETH_RX-")
    (add_net "ETH_TX+")
    (add_net "ETH_TX-")
    (add_net "GND")
    (add_net "RELAY1_COM")
    (add_net "RELAY1_NO")
    (add_net "RELAY2_COM")
    (add_net "RELAY2_NO")
    (add_net "SENSOR_24V")
    (add_net "SENSOR_IN")
  )

  (net_class Power "Power traces"
    (clearance 0.2)
    (trace_width 0.5)
    (via_dia 0.8)
    (via_drill 0.4)
    (uvia_dia 0.3)
    (uvia_drill 0.1)
  )

  (net_class HighSpeed "High speed signals"
    (clearance 0.2)
    (trace_width 0.2)
    (via_dia 0.6)
    (via_drill 0.3)
    (uvia_dia 0.3)
    (uvia_drill 0.1)
  )

  # Board outline (100mm x 80mm)
  (gr_line (start 0 0) (end 100 0) (layer Edge.Cuts) (width 0.05))
  (gr_line (start 100 0) (end 100 80) (layer Edge.Cuts) (width 0.05))
  (gr_line (start 100 80) (end 0 80) (layer Edge.Cuts) (width 0.05))
  (gr_line (start 0 80) (end 0 0) (layer Edge.Cuts) (width 0.05))

  # Component placement (modules)
  
  # ESP32 DevKit v1 - Center of board
  (module esp32:ESP32-DEVKITV1 (layer F.Cu) (tedit 60000001) (tstamp 60000001)
    (at 50 40 0)
    (descr "ESP32 Development Board")
    (tags "ESP32 DevKit")
    (path /60000001)
    (fp_text reference U1 (at 0 -16) (layer F.SilkS)
      (effects (font (size 1 1) (thickness 0.15)))
    )
    (fp_text value ESP32-DEVKITV1 (at 0 16) (layer F.Fab)
      (effects (font (size 1 1) (thickness 0.15)))
    )
    # ESP32 footprint pins would be defined here
    (pad 1 thru_hole rect (at -12.7 -12.7) (size 1.524 1.524) (drill 0.762) (layers *.Cu *.Mask))
    (pad 2 thru_hole oval (at -12.7 -10.16) (size 1.524 1.524) (drill 0.762) (layers *.Cu *.Mask))
    # ... additional pins would be defined
  )

  # W5500 Ethernet Module
  (module interface:W5500_MODULE (layer F.Cu) (tedit 60000006) (tstamp 60000006)
    (at 75 25 0)
    (descr "W5500 Ethernet Module")
    (tags "W5500 Ethernet")
    (path /60000006)
    (fp_text reference U2 (at 0 -8) (layer F.SilkS)
      (effects (font (size 1 1) (thickness 0.15)))
    )
    (fp_text value W5500_MODULE (at 0 8) (layer F.Fab)
      (effects (font (size 1 1) (thickness 0.15)))
    )
  )

  # 2-Channel Relay Module
  (module relay:RELAY_2CH_MODULE (layer F.Cu) (tedit 60000008) (tstamp 60000008)
    (at 50 65 0)
    (descr "2-Channel Relay Module")
    (tags "Relay Module")
    (path /60000008)
    (fp_text reference U3 (at 0 -8) (layer F.SilkS)
      (effects (font (size 1 1) (thickness 0.15)))
    )
    (fp_text value RELAY_2CH (at 0 8) (layer F.Fab)
      (effects (font (size 1 1) (thickness 0.15)))
    )
  )

  # Power Input Connector
  (module conn:BARREL_JACK (layer F.Cu) (tedit 60000002) (tstamp 60000002)
    (at 10 10 0)
    (descr "Barrel Jack Power Connector")
    (tags "Power Barrel Jack")
    (path /60000002)
    (fp_text reference J1 (at 0 -5) (layer F.SilkS)
      (effects (font (size 1 1) (thickness 0.15)))
    )
    (fp_text value POWER_IN (at 0 5) (layer F.Fab)
      (effects (font (size 1 1) (thickness 0.15)))
    )
  )

  # RJ45 Ethernet Connector
  (module conn:RJ45 (layer F.Cu) (tedit 60000007) (tstamp 60000007)
    (at 90 25 0)
    (descr "RJ45 Ethernet Connector")
    (tags "RJ45 Ethernet")
    (path /60000007)
    (fp_text reference J5 (at 0 -8) (layer F.SilkS)
      (effects (font (size 1 1) (thickness 0.15)))
    )
    (fp_text value RJ45 (at 0 8) (layer F.Fab)
      (effects (font (size 1 1) (thickness 0.15)))
    )
  )

  # Button Input Connector
  (module conn:TerminalBlock_2pin (layer F.Cu) (tedit 60000018) (tstamp 60000018)
    (at 10 70 0)
    (descr "2-pin Screw Terminal")
    (tags "Terminal Block")
    (path /60000018)
    (fp_text reference J2 (at 0 -5) (layer F.SilkS)
      (effects (font (size 1 1) (thickness 0.15)))
    )
    (fp_text value BUTTON_IN (at 0 5) (layer F.Fab)
      (effects (font (size 1 1) (thickness 0.15)))
    )
  )

  # Sensor Input Connector
  (module conn:TerminalBlock_2pin (layer F.Cu) (tedit 60000019) (tstamp 60000019)
    (at 25 70 0)
    (descr "2-pin Screw Terminal")
    (tags "Terminal Block")
    (path /60000019)
    (fp_text reference J3 (at 0 -5) (layer F.SilkS)
      (effects (font (size 1 1) (thickness 0.15)))
    )
    (fp_text value SENSOR_IN (at 0 5) (layer F.Fab)
      (effects (font (size 1 1) (thickness 0.15)))
    )
  )

  # Gate Output Connector
  (module conn:TerminalBlock_4pin (layer F.Cu) (tedit 60000020) (tstamp 60000020)
    (at 75 70 0)
    (descr "4-pin Screw Terminal")
    (tags "Terminal Block")
    (path /60000020)
    (fp_text reference J4 (at 0 -5) (layer F.SilkS)
      (effects (font (size 1 1) (thickness 0.15)))
    )
    (fp_text value GATE_OUT (at 0 5) (layer F.Fab)
      (effects (font (size 1 1) (thickness 0.15)))
    )
  )

  # LED Indicators
  (module led:LED_D5.0mm (layer F.Cu) (tedit 60000009) (tstamp 60000009)
    (at 15 25 0)
    (descr "5mm LED")
    (tags "LED")
    (path /60000009)
    (fp_text reference D2 (at 0 -4) (layer F.SilkS)
      (effects (font (size 1 1) (thickness 0.15)))
    )
    (fp_text value RED (at 0 4) (layer F.Fab)
      (effects (font (size 1 1) (thickness 0.15)))
    )
  )

  (module led:LED_D5.0mm (layer F.Cu) (tedit 60000010) (tstamp 60000010)
    (at 25 25 0)
    (descr "5mm LED")
    (tags "LED")
    (path /60000010)
    (fp_text reference D3 (at 0 -4) (layer F.SilkS)
      (effects (font (size 1 1) (thickness 0.15)))
    )
    (fp_text value GREEN (at 0 4) (layer F.Fab)
      (effects (font (size 1 1) (thickness 0.15)))
    )
  )

  # Passive Components
  (module resistor:R_Axial_DIN0207 (layer F.Cu) (tedit 60000011) (tstamp 60000011)
    (at 15 35 0)
    (descr "Resistor Axial")
    (tags "Resistor")
    (path /60000011)
    (fp_text reference R1 (at 0 -2) (layer F.SilkS)
      (effects (font (size 0.8 0.8) (thickness 0.12)))
    )
    (fp_text value 220R (at 0 2) (layer F.Fab)
      (effects (font (size 0.8 0.8) (thickness 0.12)))
    )
  )

  # Additional passive components would be placed here...

  # Mounting holes for enclosure
  (module MountingHole:MountingHole_3.2mm_M3 (layer F.Cu) (tedit 60000030) (tstamp 60000030)
    (at 5 5)
    (descr "Mounting Hole 3.2mm")
    (tags "mounting hole")
    (fp_text reference H1 (at 0 -4) (layer F.SilkS) hide
      (effects (font (size 1 1) (thickness 0.15)))
    )
    (fp_text value MountingHole (at 0 4) (layer F.Fab) hide
      (effects (font (size 1 1) (thickness 0.15)))
    )
    (fp_circle (center 0 0) (end 1.6 0) (layer Cmts.User) (width 0.15))
    (pad 1 np_thru_hole circle (at 0 0) (size 3.2 3.2) (drill 3.2) (layers *.Cu *.Mask))
  )

  (module MountingHole:MountingHole_3.2mm_M3 (layer F.Cu) (tedit 60000031) (tstamp 60000031)
    (at 95 5)
    (descr "Mounting Hole 3.2mm")
    (tags "mounting hole")
    (fp_text reference H2 (at 0 -4) (layer F.SilkS) hide
      (effects (font (size 1 1) (thickness 0.15)))
    )
    (fp_text value MountingHole (at 0 4) (layer F.Fab) hide
      (effects (font (size 1 1) (thickness 0.15)))
    )
    (fp_circle (center 0 0) (end 1.6 0) (layer Cmts.User) (width 0.15))
    (pad 1 np_thru_hole circle (at 0 0) (size 3.2 3.2) (drill 3.2) (layers *.Cu *.Mask))
  )

  (module MountingHole:MountingHole_3.2mm_M3 (layer F.Cu) (tedit 60000032) (tstamp 60000032)
    (at 5 75)
    (descr "Mounting Hole 3.2mm")
    (tags "mounting hole")
    (fp_text reference H3 (at 0 -4) (layer F.SilkS) hide
      (effects (font (size 1 1) (thickness 0.15)))
    )
    (fp_text value MountingHole (at 0 4) (layer F.Fab) hide
      (effects (font (size 1 1) (thickness 0.15)))
    )
    (fp_circle (center 0 0) (end 1.6 0) (layer Cmts.User) (width 0.15))
    (pad 1 np_thru_hole circle (at 0 0) (size 3.2 3.2) (drill 3.2) (layers *.Cu *.Mask))
  )

  (module MountingHole:MountingHole_3.2mm_M3 (layer F.Cu) (tedit 60000033) (tstamp 60000033)
    (at 95 75)
    (descr "Mounting Hole 3.2mm")
    (tags "mounting hole")
    (fp_text reference H4 (at 0 -4) (layer F.SilkS) hide
      (effects (font (size 1 1) (thickness 0.15)))
    )
    (fp_text value MountingHole (at 0 4) (layer F.Fab) hide
      (effects (font (size 1 1) (thickness 0.15)))
    )
    (fp_circle (center 0 0) (end 1.6 0) (layer Cmts.User) (width 0.15))
    (pad 1 np_thru_hole circle (at 0 0) (size 3.2 3.2) (drill 3.2) (layers *.Cu *.Mask))
  )

  # Ground plane zones
  (zone (net 2) (net_name GND) (layer In1.Cu) (tstamp 60000040) (hatch edge 0.508)
    (connect_pads (clearance 0.508))
    (min_thickness 0.254)
    (fill yes (arc_segments 32) (thermal_gap 0.508) (thermal_bridge_width 0.508))
    (polygon
      (pts
        (xy 0 0) (xy 100 0) (xy 100 80) (xy 0 80)
      )
    )
  )

  (zone (net 1) (net_name +5V) (layer In2.Cu) (tstamp 60000041) (hatch edge 0.508)
    (connect_pads (clearance 0.508))
    (min_thickness 0.254)
    (fill yes (arc_segments 32) (thermal_gap 0.508) (thermal_bridge_width 0.508))
    (polygon
      (pts
        (xy 0 0) (xy 100 0) (xy 100 80) (xy 0 80)
      )
    )
  )

)