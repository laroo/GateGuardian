EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "ESP32 Swing Gate Controller"
Date "2024-10-04"
Rev "v1.0"
Comp "ESP32 Gate Controller Project"
Comment1 "Main schematic for ESP32-based swing gate controller"
Comment2 "Includes ESP32, W5500 Ethernet, relays, and I/O"
Comment3 ""
Comment4 ""
$EndDescr

# ESP32 DevKit v1 Module
$Comp
L esp32:ESP32-DEVKITV1 U1
U 1 1 60000001
P 5500 4000
F 0 "U1" H 5500 5500 50  0000 C CNN
F 1 "ESP32-DEVKITV1" H 5500 5400 50  0000 C CNN
F 2 "esp32:ESP32-DEVKITV1" H 5500 4000 50  0001 C CNN
F 3 "" H 5500 4000 50  0001 C CNN
	1    5500 4000
	1    0    0    -1  
$EndComp

# Power Input Connector
$Comp
L conn:BARREL_JACK J1
U 1 1 60000002
P 1500 1500
F 0 "J1" H 1500 1800 50  0000 C CNN
F 1 "POWER_IN" H 1500 1300 50  0000 C CNN
F 2 "conn:BARREL_JACK" H 1500 1500 50  0001 C CNN
F 3 "" H 1500 1500 50  0001 C CNN
	1    1500 1500
	1    0    0    -1  
$EndComp

# Fuse
$Comp
L device:FUSE F1
U 1 1 60000003
P 2200 1400
F 0 "F1" V 2200 1500 50  0000 C CNN
F 1 "2A" V 2200 1300 50  0000 C CNN
F 2 "fuse:FUSE_5x20mm" H 2200 1400 50  0001 C CNN
F 3 "" H 2200 1400 50  0001 C CNN
	1    2200 1400
	0    1    1    0   
$EndComp

# Reverse Protection Diode
$Comp
L device:D D1
U 1 1 60000004
P 2600 1400
F 0 "D1" H 2600 1500 50  0000 C CNN
F 1 "1N4007" H 2600 1300 50  0000 C CNN
F 2 "diode:D_DO-41_SOD81_P10.16mm_Horizontal" H 2600 1400 50  0001 C CNN
F 3 "" H 2600 1400 50  0001 C CNN
	1    2600 1400
	1    0    0    -1  
$EndComp

# Power Filter Capacitor
$Comp
L device:CP C1
U 1 1 60000005
P 3000 1700
F 0 "C1" H 3100 1750 50  0000 L CNN
F 1 "470uF" H 3100 1650 50  0000 L CNN
F 2 "capacitor:CP_Radial_D8.0mm_P3.50mm" H 3038 1550 50  0001 C CNN
F 3 "" H 3000 1700 50  0001 C CNN
	1    3000 1700
	1    0    0    -1  
$EndComp

# W5500 Ethernet Module
$Comp
L interface:W5500_MODULE U2
U 1 1 60000006
P 8500 2500
F 0 "U2" H 8500 3200 50  0000 C CNN
F 1 "W5500_MODULE" H 8500 3100 50  0000 C CNN
F 2 "module:W5500_MODULE" H 8500 2500 50  0001 C CNN
F 3 "" H 8500 2500 50  0001 C CNN
	1    8500 2500
	1    0    0    -1  
$EndComp

# RJ45 Ethernet Connector
$Comp
L conn:RJ45 J5
U 1 1 60000007
P 10500 2500
F 0 "J5" H 10500 3100 50  0000 C CNN
F 1 "RJ45" H 10500 3000 50  0000 C CNN
F 2 "conn:RJ45_Amphenol_54602-x08_Horizontal" H 10500 2500 50  0001 C CNN
F 3 "" H 10500 2500 50  0001 C CNN
	1    10500 2500
	1    0    0    -1  
$EndComp

# 2-Channel Relay Module
$Comp
L relay:RELAY_MODULE_2CH U3
U 1 1 60000008
P 8500 5500
F 0 "U3" H 8500 6200 50  0000 C CNN
F 1 "RELAY_2CH" H 8500 6100 50  0000 C CNN
F 2 "module:RELAY_2CH_MODULE" H 8500 5500 50  0001 C CNN
F 3 "" H 8500 5500 50  0001 C CNN
	1    8500 5500
	1    0    0    -1  
$EndComp

# LED Indicators
$Comp
L device:LED D2
U 1 1 60000009
P 2500 3500
F 0 "D2" H 2500 3600 50  0000 C CNN
F 1 "RED" H 2500 3400 50  0000 C CNN
F 2 "led:LED_D5.0mm" H 2500 3500 50  0001 C CNN
F 3 "" H 2500 3500 50  0001 C CNN
	1    2500 3500
	-1   0    0    1   
$EndComp

$Comp
L device:LED D3
U 1 1 60000010
P 2500 4000
F 0 "D3" H 2500 4100 50  0000 C CNN
F 1 "GREEN" H 2500 3900 50  0000 C CNN
F 2 "led:LED_D5.0mm" H 2500 4000 50  0001 C CNN
F 3 "" H 2500 4000 50  0001 C CNN
	1    2500 4000
	-1   0    0    1   
$EndComp

# LED Current Limiting Resistors
$Comp
L device:R R1
U 1 1 60000011
P 2000 3500
F 0 "R1" V 2000 3500 50  0000 C CNN
F 1 "220R" V 1900 3500 50  0000 C CNN
F 2 "resistor:R_Axial_DIN0207_L6.3mm_D2.5mm_P10.16mm_Horizontal" H 2000 3500 50  0001 C CNN
F 3 "" H 2000 3500 50  0001 C CNN
	1    2000 3500
	0    1    1    0   
$EndComp

$Comp
L device:R R2
U 1 1 60000012
P 2000 4000
F 0 "R2" V 2000 4000 50  0000 C CNN
F 1 "220R" V 1900 4000 50  0000 C CNN
F 2 "resistor:R_Axial_DIN0207_L6.3mm_D2.5mm_P10.16mm_Horizontal" H 2000 4000 50  0001 C CNN
F 3 "" H 2000 4000 50  0001 C CNN
	1    2000 4000
	0    1    1    0   
$EndComp

# Button Input
$Comp
L device:SW_Push SW1
U 1 1 60000013
P 1500 5000
F 0 "SW1" H 1500 5200 50  0000 C CNN
F 1 "BUTTON" H 1500 4900 50  0000 C CNN
F 2 "button:SW_PUSH_6mm" H 1500 5200 50  0001 C CNN
F 3 "" H 1500 5200 50  0001 C CNN
	1    1500 5000
	1    0    0    -1  
$EndComp

# Button Pull-up Resistor
$Comp
L device:R R3
U 1 1 60000014
P 2000 4700
F 0 "R3" H 2070 4746 50  0000 L CNN
F 1 "10K" H 2070 4655 50  0000 L CNN
F 2 "resistor:R_Axial_DIN0207_L6.3mm_D2.5mm_P10.16mm_Horizontal" H 2000 4700 50  0001 C CNN
F 3 "" H 2000 4700 50  0001 C CNN
	1    2000 4700
	1    0    0    -1  
$EndComp

# Sensor Voltage Divider
$Comp
L device:R R4
U 1 1 60000015
P 1500 6200
F 0 "R4" H 1570 6246 50  0000 L CNN
F 1 "22K" H 1570 6155 50  0000 L CNN
F 2 "resistor:R_Axial_DIN0207_L6.3mm_D2.5mm_P10.16mm_Horizontal" H 1500 6200 50  0001 C CNN
F 3 "" H 1500 6200 50  0001 C CNN
	1    1500 6200
	1    0    0    -1  
$EndComp

$Comp
L device:R R5
U 1 1 60000016
P 1500 6600
F 0 "R5" H 1570 6646 50  0000 L CNN
F 1 "3K3" H 1570 6555 50  0000 L CNN
F 2 "resistor:R_Axial_DIN0207_L6.3mm_D2.5mm_P10.16mm_Horizontal" H 1500 6600 50  0001 C CNN
F 3 "" H 1500 6600 50  0001 C CNN
	1    1500 6600
	1    0    0    -1  
$EndComp

# Sensor Protection Zener
$Comp
L device:D_Zener D4
U 1 1 60000017
P 2000 6600
F 0 "D4" V 1954 6679 50  0000 L CNN
F 1 "3V3" V 2045 6679 50  0000 L CNN
F 2 "diode:D_DO-35_SOD27_P7.62mm_Horizontal" H 2000 6600 50  0001 C CNN
F 3 "" H 2000 6600 50  0001 C CNN
	1    2000 6600
	0    1    1    0   
$EndComp

# External Connectors
$Comp
L conn:Screw_Terminal_01x02 J2
U 1 1 60000018
P 1000 5000
F 0 "J2" H 918 4675 50  0000 C CNN
F 1 "BUTTON_IN" H 918 4766 50  0000 C CNN
F 2 "conn:TerminalBlock_bornier-2_P5.08mm" H 1000 5000 50  0001 C CNN
F 3 "" H 1000 5000 50  0001 C CNN
	1    1000 5000
	-1   0    0    1   
$EndComp

$Comp
L conn:Screw_Terminal_01x02 J3
U 1 1 60000019
P 1000 6000
F 0 "J3" H 918 5675 50  0000 C CNN
F 1 "SENSOR_IN" H 918 5766 50  0000 C CNN
F 2 "conn:TerminalBlock_bornier-2_P5.08mm" H 1000 6000 50  0001 C CNN
F 3 "" H 1000 6000 50  0001 C CNN
	1    1000 6000
	-1   0    0    1   
$EndComp

$Comp
L conn:Screw_Terminal_01x04 J4
U 1 1 60000020
P 10500 5500
F 0 "J4" H 10580 5492 50  0000 L CNN
F 1 "GATE_OUT" H 10580 5401 50  0000 L CNN
F 2 "conn:TerminalBlock_bornier-4_P5.08mm" H 10500 5500 50  0001 C CNN
F 3 "" H 10500 5500 50  0001 C CNN
	1    10500 5500
	1    0    0    -1  
$EndComp

# Power Rails
$Comp
L power:+5V #PWR01
U 1 1 60000021
P 3000 1400
F 0 "#PWR01" H 3000 1250 50  0001 C CNN
F 1 "+5V" H 3015 1573 50  0000 C CNN
F 2 "" H 3000 1400 50  0001 C CNN
F 3 "" H 3000 1400 50  0001 C CNN
	1    3000 1400
	1    0    0    -1  
$EndComp

$Comp
L power:+3V3 #PWR02
U 1 1 60000022
P 6500 3200
F 0 "#PWR02" H 6500 3050 50  0001 C CNN
F 1 "+3V3" H 6515 3373 50  0000 C CNN
F 2 "" H 6500 3200 50  0001 C CNN
F 3 "" H 6500 3200 50  0001 C CNN
	1    6500 3200
	1    0    0    -1  
$EndComp

$Comp
L power:GND #PWR03
U 1 1 60000023
P 3000 1900
F 0 "#PWR03" H 3000 1650 50  0001 C CNN
F 1 "GND" H 3005 1727 50  0000 C CNN
F 2 "" H 3000 1900 50  0001 C CNN
F 3 "" H 3000 1900 50  0001 C CNN
	1    3000 1900
	1    0    0    -1  
$EndComp

# Wire Connections
Wire Wire Line
	1800 1400 2050 1400
Wire Wire Line
	2350 1400 2450 1400
Wire Wire Line
	2750 1400 3000 1400
Wire Wire Line
	3000 1400 3000 1550
Wire Wire Line
	3000 1850 3000 1900
Wire Wire Line
	1800 1600 3000 1600
Connection ~ 3000 1600
Wire Wire Line
	3000 1600 3000 1850

# ESP32 Power Connections
Wire Wire Line
	4500 3300 3000 3300
Wire Wire Line
	3000 3300 3000 1400
Connection ~ 3000 1400
Wire Wire Line
	6500 3300 6500 3200
Wire Wire Line
	4500 4700 4000 4700
Wire Wire Line
	4000 4700 4000 1900
Wire Wire Line
	4000 1900 3000 1900
Connection ~ 3000 1900

# LED Connections
Wire Wire Line
	1850 3500 1700 3500
Wire Wire Line
	1700 3500 1700 1400
Wire Wire Line
	1700 1400 3000 1400
Wire Wire Line
	2150 3500 2350 3500
Wire Wire Line
	2650 3500 6500 3500
Wire Wire Line
	6500 3500 6500 4100
Wire Wire Line
	1850 4000 1700 4000
Wire Wire Line
	1700 4000 1700 3500
Connection ~ 1700 3500
Wire Wire Line
	2150 4000 2350 4000
Wire Wire Line
	2650 4000 6500 4000
Wire Wire Line
	6500 4000 6500 4200

# Button Connections
Wire Wire Line
	1200 5000 1300 5000
Wire Wire Line
	1700 5000 2000 5000
Wire Wire Line
	2000 5000 2000 4850
Wire Wire Line
	2000 4550 2000 1400
Wire Wire Line
	2000 1400 1700 1400
Connection ~ 1700 1400
Wire Wire Line
	2000 5000 4500 5000
Wire Wire Line
	4500 5000 4500 4300
Connection ~ 2000 5000
Wire Wire Line
	1200 4900 1200 1900
Wire Wire Line
	1200 1900 3000 1900

# Sensor Connections
Wire Wire Line
	1200 6000 1500 6000
Wire Wire Line
	1500 6000 1500 6050
Wire Wire Line
	1500 6350 1500 6400
Wire Wire Line
	1500 6400 2000 6400
Wire Wire Line
	2000 6400 2000 6450
Wire Wire Line
	1500 6750 1500 6800
Wire Wire Line
	1500 6800 2000 6800
Wire Wire Line
	2000 6800 2000 6750
Wire Wire Line
	2000 6800 4000 6800
Wire Wire Line
	4000 6800 4000 4700
Connection ~ 2000 6800
Connection ~ 4000 4700
Wire Wire Line
	1500 6400 4500 6400
Wire Wire Line
	4500 6400 4500 4000
Connection ~ 1500 6400
Wire Wire Line
	1200 5900 1200 6800
Wire Wire Line
	1200 6800 1500 6800
Connection ~ 1500 6800

# W5500 Connections
Wire Wire Line
	8000 2200 7500 2200
Wire Wire Line
	7500 2200 7500 3700
Wire Wire Line
	7500 3700 6500 3700
Wire Wire Line
	6500 3800 7600 3800
Wire Wire Line
	7600 3800 7600 2300
Wire Wire Line
	7600 2300 8000 2300
Wire Wire Line
	6500 3900 7700 3900
Wire Wire Line
	7700 3900 7700 2400
Wire Wire Line
	7700 2400 8000 2400
Wire Wire Line
	6500 4000 7800 4000
Wire Wire Line
	7800 4000 7800 2500
Wire Wire Line
	7800 2500 8000 2500
Wire Wire Line
	6500 3600 7900 3600
Wire Wire Line
	7900 3600 7900 2600
Wire Wire Line
	7900 2600 8000 2600
Wire Wire Line
	8000 2100 3000 2100
Wire Wire Line
	3000 2100 3000 1400
Wire Wire Line
	8000 2800 4000 2800
Wire Wire Line
	4000 2800 4000 1900

# Relay Connections
Wire Wire Line
	8000 5200 3000 5200
Wire Wire Line
	3000 5200 3000 1400
Wire Wire Line
	8000 5800 4000 5800
Wire Wire Line
	4000 5800 4000 1900
Wire Wire Line
	8000 5300 6500 5300
Wire Wire Line
	6500 5300 6500 4500
Wire Wire Line
	6500 4600 7000 4600
Wire Wire Line
	7000 4600 7000 5400
Wire Wire Line
	7000 5400 8000 5400

# Gate Output Connections
Wire Wire Line
	9000 5200 10300 5200
Wire Wire Line
	10300 5200 10300 5400
Wire Wire Line
	9000 5300 10200 5300
Wire Wire Line
	10200 5300 10200 5500
Wire Wire Line
	9000 5500 10100 5500
Wire Wire Line
	10100 5500 10100 5600
Wire Wire Line
	9000 5600 10000 5600
Wire Wire Line
	10000 5600 10000 5700
Wire Wire Line
	10000 5700 10300 5700

$EndSch